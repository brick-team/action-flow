<?xml version="1.0" encoding="UTF-8" ?>
<!--
  ~    Copyright [2022] [brick-team]
  ~
  ~    Licensed under the Apache License, Version 2.0 (the "License");
  ~    you may not use this file except in compliance with the License.
  ~    You may obtain a copy of the License at
  ~
  ~        http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~    Unless required by applicable law or agreed to in writing, software
  ~    distributed under the License is distributed on an "AS IS" BASIS,
  ~    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~    See the License for the specific language governing permissions and
  ~    limitations under the License.
  -->

<api-flow>
    <params>
        <param group="a">
            <key>username</key>
            <value>zhangsan</value>
        </param>

        <param group="a">
            <key>password</key>
            <value>lisi</value>
        </param>
    </params>
    <apis>
        <api id="startPoint1" domain="" uri="/{id}" http-method="GET">
            <param arg_name="username" param_group="a" ex="username"></param>
        </api>
        <api id="startPoint2" domain="" uri="/{id}" http-method="POST"></api>
    </apis>

    <extracts>
        <extract id="e1" fromApi="startPoint1" el="$.age"></extract>
        <extract id="e2" fromApi="startPoint2" el="$.age"></extract>
    </extracts>

    <watchers>
        <watcher id="w1" exid="e3" condition="> 10">
            <then actionId="startPoint1"/>
            <catch actionId="startPoint1"/>
        </watcher>
    </watchers>

    <result>
        <key name="r1" exid="e1"/>
        <key name="r2" exid="e2"/>
    </result>


    <flows>
        <flow id="1">
            <work id="w1" type="api" ref_id="startPoint1"/>
        </flow>
    </flows>


</api-flow>